(function(){window.cacheJsLocal={resourceChain:[],checkSupport:function(){try{return window.localStorage&&window.JSON||false}catch(a){return false}},setItem:function(a){try{localStorage.setItem(a.key,JSON.stringify(a))}catch(b){return false}},getItem:function(c){var a=localStorage.getItem(c);try{return JSON.parse(a||"false")}catch(b){return false}},removeItem:function(a){localStorage.removeItem(a)},getUrl:function(b,d){try{var c=new XMLHttpRequest();c.onreadystatechange=function(){if(c.readyState===4&&((c.status===200)||((c.status===0)&&c.responseText))){var f={key:b.key,value:c.responseText,version:b.version};d(f);cacheJsLocal.evalJs(c.responseText);var e=cacheJsLocal.resourceChain.shift();e&&cacheJsLocal.loadRes(e)}};c.open("GET",b.url+"?v="+b.version,false);c.send()}catch(a){}},isNew:function(c,a){var b=cacheJsLocal.getItem(c);if(b){return b.version==a}else{return false}},loadRes:function(c){if(cacheJsLocal.isNew(c.key,c.version)){var b=cacheJsLocal.getItem(c.key);cacheJsLocal.evalJs(b.value);var a=cacheJsLocal.resourceChain.shift();a&&cacheJsLocal.loadRes(a)}else{cacheJsLocal.removeItem(c.key);cacheJsLocal.getUrl(c,cacheJsLocal.setItem)}},evalJs:function(c){var b=document.head||document.getElementsByTagName("head")[0];var a=document.createElement("script");a.defer=true;a.text=c;b.appendChild(a)}}})();